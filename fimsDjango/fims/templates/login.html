{% extends 'base.html' %}
{% load static %}

{% block title %}Login{% endblock %}

{% block extra_head %}
    <link rel="stylesheet" href="{% static 'fims/css/login.css' %}">
{% endblock %}

{% block content %}
{% if messages %}
    <script>
        alert("{% for message in messages %}{{ message|escapejs }}{% if not forloop.last %}\n{% endif %}{% endfor %}");
    </script>
{% endif %}
<div class="main"{% if error_message %} data-incorrect="{{ error_message|escapejs }}"{% endif %}>
    <h1>Family Info. Management System</h1>
    <h3>Enter your login credentials</h3>

    <form id="loginForm" action="" name="login_view" method="post">
        {% csrf_token %}
        
        <label for="first">Username:</label>
        <input type="text" id="first" name="username" placeholder="Enter your Username">
        <div id="usernameError" class="error-message"></div>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" placeholder="Enter your Password">
        <div id="passwordError" class="error-message"></div>

        <div style="margin-bottom: 12px;">
            <a href="{% url 'forgot-password' %}" 
               style="color: #007bff;  font-size: 0.97em;">
                Forgot password?
            </a>
        </div>

        <div class="wrap">
            <button type="submit">Submit</button>
        </div>
    </form>
</div>
{% endblock %}

{% block extra_js %}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{% static 'fims/js/login.js' %}"></script>
{% endblock %}
